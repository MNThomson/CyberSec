name: Create QuickStart Release

on:
  push:
    paths: 'QuickStart/**'
    tags:
      - "v*.*.*"

jobs:
  notes:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repo
        uses: actions/checkout@v2

      - name: Create QuickStart.zip
        run: |
          zip -r QuickStart.zip QuickStart/*
          echo ${{ github.ref }}
        shell: bash

      - name: Create Release
        uses: softprops/action-gh-release@v1
        with:
          prerelease: ${{ !startsWith(github.ref, 'refs/tags/v') }}
          tag_name: ${{ github.ref }}
          name: QuickStart Release for Notetaking Applications
          body: >
            This is generated by github actions for easy import into most note taking applications
          fail_on_unmatched_files: true
          files: |
            QuickStart.zip
